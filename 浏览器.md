# 渲染过程中遇到js文件如何处理？

---

> JavaScript 的加载、解析与执行会阻塞文档的解析

在构建DOM时，HTML解析器若遇到了JavaScript，会暂停文档的解析，将控制权交给JavaScript引擎，等JavaScript引擎运行完毕，浏览器会再从中断的地方恢复继续解析文档。所以如果想要首屏渲染的快，就不应该在首屏就加载js文件，这也是都建议将script标签放在body标签底部的原因。当然不是说script标签必须放在底部，可以给script标签添加defer或async属性。

# 浏览器本地存储方式及使用场景

---

## Cookie

Cookie是最早被提出来的本地存储方式，在此之前，服务端无法判断网络中的两个请求是否是同一用户发起的，为解决这个问题，Cookie就出现了。Cookie的大小只有4kb，是一种纯文本文件，每次发起HTTP请求都会携带Cookie。

+ cookie一旦创建成功，名称就无法修改
+ cookie是无法跨域名的，也就是说a域名和b域名下的cookie是无法共享的，这样能够阻止非法获取其他网站的cookie
+ 每个域名下cookie数量不能超过20个，每个cookie大小不能超过4kb
+ 存在安全问题，如果cookie被拦截了，就可获得session的所有信息，即使加密也于事无补，无需知道cookie的意义，只要转发就能达到目的
+ cookie在请求一个新的页面的时候都会被发送过去

