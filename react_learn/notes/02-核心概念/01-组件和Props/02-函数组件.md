# 函数组件

#组件 #函数组件

函数组件是 React 中定义组件的最简单方式，本质上就是一个 JavaScript 函数，它接收一个单一的"props"对象参数并返回 React 元素。

## 函数组件定义

```jsx
function Welcome(props) {
    return <h1>你好, {props.name}</h1>;
}
```

也可以使用 ES6 箭头函数：

```jsx
const Welcome = (props) => {
    return <h1>你好, {props.name}</h1>;
};
```

## 函数组件特点

-   **简洁**：语法简单，代码量少
-   **无状态**：传统函数组件不维护内部状态（React 16.8 引入 Hooks 前）
-   **无生命周期**：没有生命周期方法（React 16.8 引入 Hooks 前）
-   **性能**：相比类组件，通常渲染性能更好

## 函数组件使用

要使用函数组件，可以像使用 HTML 标签一样：

```jsx
<Welcome name="小明" />
```

这会渲染出"你好, 小明"的内容。

## 接收 Props

函数组件通过参数接收 props：

```jsx
function Profile(props) {
    return (
        <div>
            <h2>{props.name}</h2>
            <p>年龄: {props.age}</p>
            <p>职业: {props.job}</p>
        </div>
    );
}
```

使用时传入对应属性：

```jsx
<Profile name="张三" age={25} job="工程师" />
```

## 解构 Props

为了代码更简洁，常见的做法是解构 props：

```jsx
function Profile({ name, age, job }) {
    return (
        <div>
            <h2>{name}</h2>
            <p>年龄: {age}</p>
            <p>职业: {job}</p>
        </div>
    );
}
```

## 默认 Props 值

可以为 props 提供默认值：

```jsx
function Greeting({ name = "访客" }) {
    return <h1>欢迎, {name}!</h1>;
}

// 或者使用defaultProps
Greeting.defaultProps = {
    name: "访客",
};
```

## 与 Hooks 结合

React 16.8 引入 Hooks 后，函数组件可以使用状态和其他 React 特性：

```jsx
import React, { useState } from "react";

function Counter() {
    // 声明一个新的状态变量，我们叫它"count"
    const [count, setCount] = useState(0);

    return (
        <div>
            <p>你点击了 {count} 次</p>
            <button onClick={() => setCount(count + 1)}>点击我</button>
        </div>
    );
}
```

## 与类组件对比

函数组件相比[[类组件]]：

-   语法更简洁
-   内存占用更小
-   使用 Hooks 后功能相当，甚至更灵活
-   更容易测试和复用逻辑

## 何时使用函数组件

推荐在以下情况使用函数组件：

-   组件主要负责展示 UI 而非复杂逻辑
-   需要更好的性能
-   希望代码更简洁易读
-   使用 React 新特性（如 Hooks）

随着 Hooks 的引入，现代 React 开发中函数组件已成为首选，类组件主要用于维护遗留代码。

## 相关概念

-   [[类组件]] - React 的另一种组件定义方式
-   [[useState]] - 在函数组件中使用状态
-   [[useEffect]] - 在函数组件中处理副作用
-   [[Hooks概述]] - React Hooks 的完整介绍
