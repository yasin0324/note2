# 构建工具

---

当我们习惯了在node中编写代码的方式，再回到前端编写html、css、js这些东西会感到各种的不便。比如：不能放心地使用模块化规范（浏览器兼容性问题），即使可以使用模块化规范也会面临模块过多时的加载问题

我们就迫切地希望有一款工具可以对代码进行打包，将多个模块打包成一个文件。这样一来既解决了兼容性问题，又解决了模块过多的问题

构建工具就起到了这样一个作用，通过构建工具可以将使用ESM规范编写的代码转换为旧的js语法，这样可以使得所有的浏览器都可以支持代码

# webpack

---

## 概念

本质上，webpack是一个用于现代JavaScript应用程序的**静态模块打包工具**。当webpack处理应用程序时，它会在内部从一个或多个入口点构建一个依赖图(dependency graph)，然后将你项目中所需的每一个模块组合成一个或多个bundles，它们均为静态资源，用于展示你的内容。「按需打包」

> webpack在node中运行

## 使用步骤：

1. 初始化项目`yarn init -y`
2. 安装依赖`webpack`、`web pack-cli`
3. 在项目汇总创建`src`目录，然后编写代码
4. 执行`yarn webpack`来对代码进行打包

> cli:command line interface 命令行工具
>
> 安装依赖`yarn add -D webpack webpack-cli`，-D表示设置为开发依赖
>
> src目录下的是遵循前端开发规范的，src以外的要用node规范CommonJS

## 配置文件（webpack.config.js）

```js
const path = require("path")
module.exports = {
  mode: "production",
  entry: "./src/index.js",
  output: {
  },
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: ["style-loader", "css-loader"]
      }
    ]
  }
}
```

> 书写对象的时候，可以在最后一个属性值后面加上`,` 并且属性名可以不为字符串
>
> 但在写JSON的时候，属性名也需要加上`""`并且最后不能加上`,`

### mode

告知webpack使用相应模式的内置优化

+ none：不使用任何默认优化选项
+ production：生产模式
+ development：开发模式

### entry

默认值是`./src/index.js`（一般不改，
