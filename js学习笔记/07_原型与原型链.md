# 原型和原型链

---

原型（`prototype`)和原型链（`prototype chain`）是JavaScript中的核心概念，它们与对象的继承机制密切相关

原型（`prototype`）：在JavaScript中，每个对象都有一个关联的原型。原型本身也是一个对象，包含了一组属性和方法。当我们试图访问一个对象的属性或方法时，如果该对象本身没有这个属性或方法，JavaScript引擎会去对象的原型上查找。原型充当了一种共享资源的角色，使得对象可以继承其原型的属性和方法

原型链（`prototype chain`）：原型链是由一系列原型对象组成的链状结构。当我们访问一个对象的属性或方法时，JavaScript引擎会沿着原型链向上查找，知道找到相应的属性或方法，或者达到原型链的顶端（`null`）。原型链是JavaScript实现继承和属性查找的基础

> 原型链的工作原理如下：
>
> 1. 当试图访问一个对象的属性或方法时，首先在对象自身查找
> 2. 如果对象自身没有找到，那么沿着原型链向上查找，先查找原型对象
> 3. 如果原型对象也没有找到，继续沿着原型链查找，直至达到原型链的顶端（`null`）
> 4. 如果在整个原型链上都没有找到相应的属性或方法，则返回`undefined`

## 对象的原型(`__proto__`)

JavaScript中每个对象都有一个特殊的内置属性`[[prototype]]`，这个属性可以称之为**对象的原型（隐式原型）**，这个特殊的对象可以指向另外一个对象

这个对象有什么用呢？

+ 当我们通过引用对象的属性`key`来获取一个`value`时，它会触发`[[get]]`的操作
+ 这个操作会首先检查该对象是否有对应的属性，如果有的话就使用它
+ 如果对象中没有该属性，那么会访问对象`[[prototype]]`内置属性指向的对象上的属性

> 如果通过字面量直接创建一个对象，这个对象也会有这样的属性吗？如果有，应该如何获取这个属性呢？
>
> + 如果通过字面量直接创建一个对象，也会有这样的属性，只要是对象都会有这样的一个内置属性
> + 获取的方式有两种：
>   + 通过对象的`__proto__`属性可以获取到（但这个是早期浏览器自己添加的，存在一定的兼容性问题）
>   + 通过`Object.getPrototyprOf()`方法可以获取到

## 函数的原型（`prototype`)

